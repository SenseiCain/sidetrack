<div class="border pb-3 mb-4">
    <div class="bg-info px-2">
        <h4 class="text-white" ><%= @post.title %></h4>
    </div>
    <div class="px-2">
        <p><%= @post.description %></p>

        <% content_div = @post.categories.map{|c| %>
            <% content_tag :span, class: 'badge badge-info mr-1 text-white' do %>
            <% link_to c.name, "/?query[categories]=#{c.id}", style: 'text-decoration: none; color: white', class: 'py-0' %>
            <% end %>
        <% } %>
        <%= content_tag(:div, safe_join(content_div), class: 'col-md-12 my-0 px-0 d-flex') %>
    </div>

</div>
<!-- REFACTOR THIS!!! -->
<%= display_user_or_login(@user) %>



<%= bootstrap_form_for @comment, url: post_path(@post) do |f| %>
    <%= f.text_area :description, hide_label: true, placeholder: "Leave a comment...", class: 'my-1' %>
    <%= f.submit class: 'btn btn-secondary btn-small p-1 my-1' %>
<% end %>

<div id="comment-container">
    <% @post.comments.each do |c| %>
        <div class="card">
            <div class="card-body py-2 px-0">
                <div class="container-fluid">
                    <div class="row">
                        <div class="col-md-1 border-right">
                            <div class="row">
                                <div class="col-md-12 align-items-center text-center"><%= content_tag(:span, nil, class: 'fas fa-angle-up') %></div>
                                <div class="col-md-12 justify-content-center text-center"><%= content_tag(:span, nil, class: 'fas fa-angle-down') %></div>
                            </div>
                        </div>
                        <div class="col-md-11">
                            <h6 class="card-title small mb-1"><span class="text-info"><%= c.user.name %></span> - X votes - Date</h6>
                            <p class="card-text"><%= c.description %></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    <% end %>
</div> 