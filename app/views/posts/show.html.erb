<div class="border pb-3 mb-4">
    <div class="bg-info px-2">
        <h4><%= @post.title %></h4>
    </div>
    <div class="px-2">
        <p><%= @post.description %></p>

        <% content_div = @post.categories.map{|c| %>
            <% content_tag :span, class: 'badge badge-info mr-1 text-white' do %>
            <% link_to c.name, "/?query[categories]=#{c.id}", style: 'text-decoration: none; color: white', class: 'py-0' %>
            <% end %>
        <% } %>
        <%= content_tag(:div, safe_join(content_div), class: 'col-md-12 my-0 px-0 d-flex') %>
    </div>

</div>

<h6 class="small">Comment as <span class="text-info">Username</span></h6>
<%= bootstrap_form_for @comment, url: post_path(@post) do |f| %>
    <%= f.text_area :description, hide_label: true, placeholder: "Leave a comment...", class: 'my-1' %>
    <%= f.submit class: 'btn btn-secondary btn-small p-1 my-1' %>
<% end %>

<div id="comment-container">
    <% @post.comments.each do |c| %>
        <div class="card">
            <div class="card-body p-2">
                <h6 class="card-title small mb-1"><span class="text-info"><%= c.user.name %></span> - X votes - Date</h6>
                <p class="card-text"><%= c.description %></p>
            </div>
        </div>
    <% end %>
</div> 